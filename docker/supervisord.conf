[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:nginx]
command=nginx -g "daemon off;"
stdout_logfile=/var/log/nginx/stdout.log
stderr_logfile=/var/log/nginx/stderr.log
autorestart=true
user=root

[program:homenetmon]
command=python app.py
directory=/app
user=homenetmon
environment=FLASK_ENV=production,PYTHONPATH=/app
stdout_logfile=/app/logs/app.log
stderr_logfile=/app/logs/app_error.log
autorestart=true
redirect_stderr=true
startsecs=10
stopwaitsecs=30

[program:redis]
command=redis-server --appendonly yes
user=redis
stdout_logfile=/var/log/redis/stdout.log
stderr_logfile=/var/log/redis/stderr.log
autorestart=true
